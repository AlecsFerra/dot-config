; vim:ft=dosini

[module/news]
type = custom/script
exec = newsboat -x reload print-unread | awk '{print "    " $1} '
interval = 100
click-left = alacritty -e zsh -ic newsboat

[module/updates]
type = custom/script
exec = ~/.config/polybar/scripts/arch-up.sh
interval = 300
click-left = alacritty --class dropdown_update -e paru &

[module/date]
type = internal/date
interval = 1.0

date = %H:%M
date-alt = %Y-%m-%d %a

format = <label>
label = %date%
label-margin = 1

[module/notifications]
type = custom/script
exec = $HOME/.config/polybar/scripts/notifications.sh

click-left = kill -s USR1 $(pidof deadd-notification-center)
click-right = dnd.sh &
interval = 5

[module/temperature]
type = internal/temperature

units = false

label = %temperature-c%°
format = <ramp> <label>

ramp-0 = 
ramp-1 = 
ramp-2 = 
ramp-3 =  
ramp-4 =  

[module/cpu]
type = internal/cpu

label = %percentage%%
format = ﬙  <label>

[module/battery]
type = internal/battery
exec = tlp-stat -s | grep -q 'Mode           = AC' && echo "✨" || echo "💤"
internal = 50
full-at = ${config.battery-full-at}

battery = ${config.battery-bat}
adapter = ${config.battery-adp}


format-charging = "%{A1:$HOME/.config/polybar/scripts/tlp.sh:}<animation-charging> <label-charging>%{A}"
animation-charging-0 = 
animation-charging-1 = 
animation-charging-2 = 
animation-charging-3 = 
animation-charging-4 = 
animation-charging-framerate = 750

format-discharging = "%{A1:$HOME/.config/polybar/scripts/tlp.sh:}<ramp-capacity> <label-discharging>%{A}"
ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-4 = 
ramp-capacity-foreground = ${colors.notify}

time-format = %H:%M
label-discharging = "%percentage%%"
;(%time%)

format-full = %{A1:$HOME/.config/polybar/scripts/tlp.sh:} <label-full>%{A}
label-full = 100%
label-full-foreground = ${colors.foreground}

[module/wifi]
type = internal/network
interface = ${config.wifiinterface}

interval = 1

format-connected = "%{A1:alacritty --class dropdown_conn -e nmtui:}<ramp-signal> <label-connected>%{A}"
format-disconnected = "%{A1:alacritty --class dropdown_conn -e nmtui:}<label-disconnected>%{A}"

label-disconnected = 
label-disconnected-foreground = ${colors.urgent}

label-connected = 

ramp-signal-0 = 直
ramp-signal-0-foreground = ${colors.urgent}
ramp-signal-1 = 直
ramp-signal-1-foreground = ${colors.nord9}
ramp-signal-2 = 直
ramp-signal-2-foreground = ${colors.warning}
ramp-signal-3 = 直
ramp-signal-3-foreground = ${colors.nord7}


[module/kde-connect]
type = custom/script
exec = ~/.config/polybar/scripts/kde-connect-battery.sh
click-left = thunar /run/user/1000/bc589360833d3c73/primary/
interval = 10

[module/controller]
type = custom/script
exec = ~/.config/polybar/scripts/ps3controllerbattery.sh
interval = 10
